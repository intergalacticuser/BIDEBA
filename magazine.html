<!DOCTYPE html>
<html lang="en">
  <head>
      <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  // Устанавливаем consent по умолчанию — всё запрещено
  gtag('consent', 'default', {
    'ad_storage': 'denied',
    'ad_user_data': 'denied',
    'ad_personalization': 'denied',
    'analytics_storage': 'denied',
    'wait_for_update': 1000
  });
</script>
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N8MXJRMB');</script>
<!-- End Google Tag Manager -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BDB Coin Magazine</title>

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://rss.app">
    <link rel="preconnect" href="https://rss.app" crossorigin>
    <link rel="icon" type="image/png" href="logo.png">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="canonical" href="https://bideba.com/magazine">
    <meta name="description" content="Лента новостей BIDEBA (BDB) из Telegram и RSS.">
    <meta property="og:title" content="BIDEBA (BDB) — Magazine">
    <meta property="og:description" content="Новости и апдейты сообщества BIDEBA.">
    <meta property="og:image" content="logo.png">
    <meta property="og:url" content="https://bideba.com/magazine">
    <meta name="theme-color" content="#00c6ff">
    <style>
      body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-color: #000;
        color: white;
        font-family: 'Arial', sans-serif;
        display: flex;
        flex-direction: column;
        height: 100vh;
        position: relative;
      }

      /* Background Canvas */
      #background-canvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
      }

      /* Back Button */
      #back-button {
        position: absolute;
        top: 10px;
        left: 10px;
        z-index: 10;
      }

      #back-button button {
        background: rgba(255, 255, 255, 0.1);
        color: white;
        font-size: 1.2rem;
        font-weight: bold;
        padding: 5px 10px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background 0.3s ease;
      }

      #back-button button:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      /* Круглое изображение */
      #logo-link {
        position: absolute;
        top: 60px; /* чуть ниже кнопки "Back" */
        left: 10px;
        z-index: 10;
        width: 60px;
        height: 60px;
      }

      #logo-link img {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid rgba(255, 255, 255, 0.3);
        transition: transform 0.3s ease;
      }

      #logo-link img:hover {
        transform: scale(1.1);
      }

      /* Magazine Container */
      #magazine-container {
        position: fixed;
        top: var(--nav-h);
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 5;
        overflow: hidden;
        transition: all 0.3s ease;
      }
      
      #magazine-container { overflow: hidden; }
      #magazine-container iframe {
        position: absolute;
        top: 0; /* attach to top */
        left: 0;
        width: 100%;
        height: 100%;
        border: none;
        transform: scaleX(0.92); /* show background on sides only */
        transform-origin: center center;
        transition: transform 0.3s ease;
        background: transparent;
      }

      /* Loading indicator */
      .loading-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        background: rgba(0, 0, 0, 0.7);
        z-index: 6;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
      }

      .loading-overlay.show {
        opacity: 1;
        pointer-events: all;
      }

      .loading-spinner {
        width: 50px;
        height: 50px;
        border: 5px solid rgba(0, 198, 255, 0.3);
        border-top: 5px solid #00c6ff;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }

      /* Прокрутка для контейнера */
      #magazine-container::-webkit-scrollbar { width: 8px; }
      #magazine-container::-webkit-scrollbar-track { background: rgba(0, 20, 40, 0.5); }
      #magazine-container::-webkit-scrollbar-thumb { background: rgba(0, 198, 255, 0.5); border-radius: 4px; }
      #magazine-container::-webkit-scrollbar-thumb:hover { background: rgba(0, 198, 255, 0.7); }
    </style>
    <script defer src="app.js"></script>
  </head>
  <body>
  
    <nav class="navbar">
      <a class="brand" href="index.html"><img src="logo.png" alt="BDB">BIDEBA</a>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="magazine.html">Magazine</a>
        <a href="info.html">Info</a>
        <a href="Privacy.html">Privacy</a>
        <a href="Terms.html">Terms</a>
        <a href="https://x.com/bdbcoin?s=21" target="_blank" rel="noopener" aria-label="X (Twitter)" title="X (Twitter)"><i class="fa-brands fa-x-twitter"></i></a>
        <a href="https://t.me/BIDEBAcoin" target="_blank" rel="noopener" aria-label="Telegram" title="Telegram"><i class="fa-brands fa-telegram"></i></a>
      </div>
    </nav>
    <div class="nav-spacer"></div>
    <script>
      (function(){
        try {
          if (localStorage.getItem('cookiesAccepted')) {
            gtag('consent', 'update', {
              'ad_storage': 'granted',
              'ad_user_data': 'granted',
              'ad_personalization': 'granted',
              'analytics_storage': 'granted'
            });
          }
        } catch(e){}
      })();
    </script>
    
    <!-- Background Canvas -->
    <canvas id="background-canvas"></canvas>
    
    <!-- Telegram floating button over RSS area with slide-in/out -->
    <a id="logo-link" href="https://t.me/cwc_network" target="_blank" aria-label="Telegram channel" style="position:absolute; top: calc(var(--nav-h) + 12px); left: 100px; z-index: 20; transform: translateX(-120%); transition: transform 0.25s ease; will-change: transform;">
      <img src="https://github.com/intergalacticuser/BIDEBA/blob/4370b9ff2f68a70dbef987324ee0990ad9d870ca/image_0Beg3SIa_1724276448994_512.png?raw=true" alt="Telegram">
    </a>

    <!-- Magazine Container -->
    <div id="magazine-container">
      <div class="loading-overlay" id="loading-overlay">
        <div class="loading-spinner"></div>
      </div>
      <iframe 
        src="https://rss.app/embed/v1/magazine/_XzrDDuW8zJzoioSc" 
        frameborder="0"
        scrolling="yes"
        id="magazine-iframe"
      ></iframe>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const canvas = document.getElementById('background-canvas');
        const ctx = canvas.getContext('2d');
        const container = document.getElementById('magazine-container');
        const iframe = document.getElementById('magazine-iframe');
        const loadingOverlay = document.getElementById('loading-overlay');

        if (!ctx) {
          console.error("Canvas context not supported");
          return;
        }

        // Показываем индикатор загрузки
        loadingOverlay.classList.add('show');

        function resizeCanvas() {
          canvas.width = window.innerWidth;
          canvas.height = window.innerHeight;
        }

        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        let currentScale = 1;
        let offsetX = 0;
        let offsetY = 0;

        function updateTransform() {
          iframe.style.transform = `scale(${currentScale}) translate(${offsetX}px, ${offsetY}px)`;
        }

        function zoomIn() {
          if (currentScale < 3) {
            currentScale += 0.1;
            updateTransform();
          }
        }

        function zoomOut() {
          if (currentScale > 0.5) {
            currentScale -= 0.1;
            updateTransform();
          }
        }

        function resetZoom() {
          currentScale = 1;
          offsetX = 0;
          offsetY = 0;
          updateTransform();
        }

        let hideTimer;
        function showTelegram() {
          const tgl = document.getElementById('logo-link');
          if (tgl) tgl.style.transform = 'translateX(0)';
          clearTimeout(hideTimer);
          hideTimer = setTimeout(() => { if (tgl) tgl.style.transform = 'translateX(-120%)'; }, 2000);
        }

        // Wheel zoom still on container
        container.addEventListener('wheel', (e) => {
          e.preventDefault();
          showTelegram();

          const rect = container.getBoundingClientRect();
          const mouseX = e.clientX - rect.left;
          const mouseY = e.clientY - rect.top;

          const oldScale = currentScale;
          if (e.deltaY < 0) { zoomIn(); } else { zoomOut(); }

          const scaleRatio = currentScale / oldScale;
          offsetX = mouseX - (mouseX - offsetX) * scaleRatio;
          offsetY = mouseY - (mouseY - offsetY) * scaleRatio;
          updateTransform();
        });

        let isDragging = false;
        let startX, startY, startOffsetX, startOffsetY;

        iframe.addEventListener('mousedown', (e) => {
          if (currentScale > 1) {
            isDragging = true;
            startX = e.clientX;
            startY = e.clientY;
            startOffsetX = offsetX;
            startOffsetY = offsetY;
            iframe.style.cursor = 'grabbing';
            e.preventDefault();
          }
        });

        window.addEventListener('mousemove', (e) => {
          if (isDragging) {
            const dx = e.clientX - startX;
            const dy = e.clientY - startY;
            offsetX = startOffsetX + dx / currentScale;
            offsetY = startOffsetY + dy / currentScale;
            updateTransform();
          }
        });

        window.addEventListener('mouseup', () => { isDragging = false; iframe.style.cursor = 'default'; });
        container.addEventListener('dblclick', resetZoom);

        // Reveal/hide icon on global user movement (works on mobile and desktop)
        const revealEvents = ['pointermove', 'touchstart', 'touchmove', 'scroll'];
        revealEvents.forEach((evt) => {
          window.addEventListener(evt, () => showTelegram(), { passive: true });
          document.addEventListener(evt, () => showTelegram(), { passive: true });
        });

        const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
        const fontSize = Math.max(12, Math.min(25, window.innerWidth / 40));
        const columns = Math.floor(canvas.width / (fontSize * 0.7));
        const drops = [];
        const trailLength = 3;
        const glowIntensity = 10;
        let pulseFactor = 1;
        let pulseDirection = 1;

        for (let i = 0; i < columns; i++) {
          drops[i] = { y: 1, trail: [] };
        }

        let speedState = 0;
        const speedLevels = [0.6, 0.8, 1.0, 1.2, 0.4];

        function drawFallingLetters() {
          ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          ctx.font = `${fontSize}px Arial`;
          pulseFactor += pulseDirection * 0.05;
          if (pulseFactor >= 1.5 || pulseFactor <= 0.5) {
            pulseDirection *= -1;
          }
          for (let i = 0; i < drops.length; i++) {
            const text = letters[Math.floor(Math.random() * letters.length)];
            const x = i * fontSize * 0.7;
            const y = drops[i].y * fontSize;
            const h = Math.random() * 360;
            const s = 70 + Math.random() * 30;
            const l = 50 + Math.random() * 20;
            const glowSize = glowIntensity * pulseFactor;
            ctx.shadowBlur = glowSize;
            ctx.shadowColor = `hsl(${h}, ${s}%, ${l}%)`;
            ctx.fillStyle = `hsl(${h}, ${s}%, ${l - 10}%)`;
            ctx.fillText(text, x, y);
            drops[i].trail.push({ x, y, alpha: 1 });
            while (drops[i].trail.length > trailLength) {
              drops[i].trail.shift();
            }
            drops[i].trail.forEach((point, index) => {
              const alpha = 0.4 - (index / trailLength);
              ctx.globalAlpha = alpha;
              ctx.fillStyle = `hsla(${h}, ${s}%, ${l - 10}%, ${alpha})`;
              ctx.fillText(text, point.x, point.y);
            });
            ctx.globalAlpha = 1;
            if (y > canvas.height || Math.random() > 0.97) {
              drops[i].y = 0;
              drops[i].trail = [];
            }
            drops[i].y += speedLevels[speedState];
          }
          ctx.shadowBlur = 0;
          ctx.shadowColor = 'transparent';
        }

        canvas.addEventListener('mousedown', () => {
          speedState = (speedState + 1) % speedLevels.length;
        });

        setInterval(drawFallingLetters, 30);

        setTimeout(() => {
          loadingOverlay.classList.remove('show');
        }, 1000);
      });
    </script>
   <!-- GDPR + Crypto Disclaimer Consent Banner -->
<div id="cookie-banner" style="position: fixed; bottom: 0; left: 0; right: 0; background: #1a1a2e; color: #fff; padding: 18px; font-size: 14px; z-index: 10000; display: none; font-family: Arial, sans-serif; border-top: 1px solid #00c6ff;">
  <div style="max-width: 980px; margin: 0 auto; display: flex; flex-direction: column; gap: 12px; line-height: 1.5;">

    <div>
      <strong>Cookie & Data Consent</strong>: This website uses minimal cookies to enhance your experience and support technical functionality. No personal data is stored or shared without your explicit consent. Analytics are disabled by default and only activated after your approval, in compliance with the <strong>GDPR</strong>.
    </div>

    <div style="background: rgba(255, 0, 0, 0.1); padding: 12px; border-radius: 8px; border: 1px solid rgba(255, 0, 0, 0.2);">
      <strong>⚠️ Important Crypto Disclaimer:</strong> The token <strong>BIDEBA Coin (BDB)</strong> is a <strong>meme coin</strong> created for entertainment and community fun on the TON blockchain. It has:
      <ul style="margin: 8px 0; padding-left: 20px;">
        <li>No financial value, utility, or guarantees.</li>
        <li>No legal status as an investment, security, or regulated digital asset (MiCA).</li>
        <li>No affiliation with financial institutions.</li>
      </ul>
      All transactions are <strong>irreversible and at your own risk</strong>. For full details, see our <a href="/Privacy.html" style="color: #0bf; text-decoration: underline;">Privacy & Disclaimer Policy</a>.
    </div>

    <div style="font-size: 13px; color: #aaa; background: rgba(0, 0, 0, 0.3); padding: 10px; border-radius: 6px;">
      <strong>Smart Contract:</strong> <span style="font-family: monospace;">EQAcB3z-Eggn9SblOqy5OEf0GAmVGs0kSHICwpwjRPIPpwIw</span>
    </div>

    <label style="display: flex; align-items: center; gap: 10px; font-size: 15px;">
      <input type="checkbox" id="investment-checkbox" style="transform: scale(1.3); cursor: pointer;" required>
      <span>I understand that <strong>BDB is a meme coin</strong> and <strong>I am not making an investment</strong>.</span>
    </label>

    <button id="accept-cookies" disabled style="background: linear-gradient(135deg, #00c6ff, #0072ff); color: white; border: none; padding: 12px 20px; font-size: 16px; font-weight: bold; cursor: not-allowed; border-radius: 6px; max-width: 200px; align-self: flex-start; transition: all 0.3s ease;">
      I Understand & Agree
    </button>

  </div>
</div>

<script>
  (function () {
    const cookieBanner = document.getElementById('cookie-banner');
    const acceptBtn = document.getElementById('accept-cookies');
    const investmentCheckbox = document.getElementById('investment-checkbox');

    if (!localStorage.getItem('cookiesAccepted')) {
      cookieBanner.style.display = 'block';
    }

    investmentCheckbox.addEventListener('change', function () {
      acceptBtn.disabled = !this.checked;
      acceptBtn.style.cursor = this.checked ? 'pointer' : 'not-allowed';
    });

    acceptBtn.addEventListener('click', function () {
      if (!investmentCheckbox.checked) return;

      localStorage.setItem('cookiesAccepted', 'true');
      cookieBanner.style.display = 'none';

      // Разрешаем аналитику
      gtag('consent', 'update', {
        'ad_storage': 'granted',
        'ad_user_data': 'granted',
        'ad_personalization': 'granted',
        'analytics_storage': 'granted'
      });

      // Событие для GTM
      window.dataLayer.push({ 'event': 'cookie_consent_given' });
    });
  })();
</script>
  </body>
</html>
